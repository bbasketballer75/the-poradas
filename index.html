<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Poradas Wedding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  <meta http-equiv="Permissions-Policy" content="geolocation=(self)">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Cormorant+Garamond:wght@400;600&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDYCx_JthKAqyRNe5Mtwkx3INBY2MwxSxE",
      authDomain: "shared-wedding-album-11b45.firebaseapp.com",
      projectId: "shared-wedding-album-11b45",
      storageBucket: "shared-wedding-album-11b45.appspot.com",
      messagingSenderId: "720256701487",
      appId: "1:720256701487:web:78ceff3f5bb1f2de9b22da"
    };
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();
    const db = firebase.database();
  </script>
</head>
<body>

  <section id="intro-section" style="width:100vw;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;position:relative;z-index:1;">
    <video id="intro-video" autoplay muted playsinline webkit-playsinline preload="auto" style="width:100vw;height:100vh;object-fit:contain;background:#fff;display:block;">
      <source src="video/intro.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <button id="skip-intro" type="button">Skip Intro</button>
    <button id="replay-intro" type="button" style="position:absolute;top:24px;right:24px;z-index:2;padding:0.3em 1em;line-height:1.2;font-size:0.95em;background:rgba(255,255,255,0.7);border:1px solid #ccc;border-radius:18px;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.06);">Replay Intro</button>
  </section>

  <main id="main-content" style="display:none;">
    <!-- Scroll section for the main video -->
    <section id="scroll-section"></section>

    <!-- Family Tree Section -->
    <section id="family-tree" class="wedding-family-tree">
      <div class="family-tree-rows">
        <div class="family-tree-row couple-row">
          <div class="tree-person">
            <div class="tree-person-photo ring-couple" style="background-image: url('images/austin.webp');" alt="Austin"></div>
            <span class="tree-person-name">Austin</span>
          </div>
          <div class="tree-person">
            <div class="tree-person-photo ring-couple" style="background-image: url('images/jordyn.webp');" alt="Jordyn"></div>
            <span class="tree-person-name">Jordyn</span>
          </div>
        </div>
        <div class="family-tree-section-block">
          <div class="family-tree-section-title">Beloved Parents</div>
          <div class="family-tree-row">
            <div class="tree-person">
              <div class="tree-person-photo ring-parent" style="background-image: url('images/parents/christine.webp');" alt="Christine Pringle"></div>
              <span class="tree-person-name">Christine Pringle</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-parent" style="background-image: url('images/parents/jerame.webp');" alt="Jerame Pringle"></div>
              <span class="tree-person-name">Jerame Pringle</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-parent" style="background-image: url('images/parents/heather.webp');" alt="Heather Shaffer"></div>
              <span class="tree-person-name">Heather Shaffer</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-parent" style="background-image: url('images/parents/melony.webp');" alt="Melony Porada"></div>
              <span class="tree-person-name">Melony Porada</span>
            </div>
          </div>
        </div>
        <div class="family-tree-section-block">
          <div class="family-tree-section-title">Groomsmen</div>
          <div class="family-tree-row groomsmen">
            <div class="tree-person">
              <div class="tree-person-photo ring-groomsman" style="background-image: url('images/wedding-party/groomsmen/tyler-sharpe.webp');" alt="Tyler Sharpe"></div>
              <span class="tree-person-name">Tyler Sharpe</span>
              <div class="tree-person-role">Best Man</div>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-groomsman" style="background-image: url('images/wedding-party/groomsmen/alex-molnar.webp');" alt="Alex Molnar"></div>
              <span class="tree-person-name">Alex Molnar</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-groomsman" style="background-image: url('images/wedding-party/groomsmen/brosonan-mccray.webp');" alt="Brosonan McCray"></div>
              <span class="tree-person-name">Brosonan McCray</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-groomsman" style="background-image: url('images/wedding-party/groomsmen/ean-pringle.webp');" alt="Ean Pringle"></div>
              <span class="tree-person-name">Ean Pringle</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-groomsman" style="background-image: url('images/wedding-party/groomsmen/eddie-migut.webp');" alt="Eddie Migut"></div>
              <span class="tree-person-name">Eddie Migut</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-groomsman" style="background-image: url('images/wedding-party/groomsmen/ian-porada.webp');" alt="Ian Porada"></div>
              <span class="tree-person-name">Ian Porada</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-groomsman" style="background-image: url('images/wedding-party/groomsmen/nate-berkebile.webp');" alt="Nate Berkebile"></div>
              <span class="tree-person-name">Nate Berkebile</span>
            </div>
          </div>
        </div>
        <div class="family-tree-section-block">
          <div class="family-tree-section-title">Bridal Party</div>
          <div class="family-tree-row bridesmaids">
            <div class="tree-person">
              <div class="tree-person-photo ring-bridesmaid" style="background-image: url('images/wedding-party/bridesmaids/lexi-ferg.webp');" alt="Lexi Ferg"></div>
              <span class="tree-person-name">Lexi Ferg</span>
              <div class="tree-person-role">Matron of Honor</div>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-bridesmaid" style="background-image: url('images/wedding-party/bridesmaids/brinnah-porada.webp');" alt="Brinnah Porada"></div>
              <span class="tree-person-name">Brinnah Porada</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-bridesmaid" style="background-image: url('images/wedding-party/bridesmaids/caitie-helsel.webp');" alt="Caitie Helsel"></div>
              <span class="tree-person-name">Caitie Helsel</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-bridesmaid" style="background-image: url('images/wedding-party/bridesmaids/emily-aurandt.webp');" alt="Emily Aurandt"></div>
              <span class="tree-person-name">Emily Aurandt</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-bridesmaid" style="background-image: url('images/wedding-party/bridesmaids/hannah-porada.webp');" alt="Hannah Porada"></div>
              <span class="tree-person-name">Hannah Porada</span>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-bridesmaid" style="background-image: url('images/wedding-party/bridesmaids/maria-mccray.webp');" alt="Maria McCray"></div>
              <span class="tree-person-name">Maria McCray</span>
              <div class="tree-person-role">Officiant</div>
            </div>
            <div class="tree-person">
              <div class="tree-person-photo ring-bridesmaid" style="background-image: url('images/wedding-party/bridesmaids/mic.webp');" alt="Mic"></div>
              <span class="tree-person-name">Micaela Helsel</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Film Section -->
    <section id="main-film-section">
      <h2 class="section-title">The Wedding Film</h2>
      <div id="main-film-player-container">
        <div id="video-play-overlay"></div>
        <video id="main-film-video" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" poster="images/main-video-cover.jpg" data-setup='{"fluid": true}'>
          <source src="https://pub-de1431994c6f481dbc54181e6b5462d3.r2.dev/final-wedding-video.mp4" type="video/mp4" />
          <track kind="chapters" src="video/main-film-chapters.vtt" srclang="en" label="Chapters" default>
        </video>
      </div>
    </section>

    <!-- Engagement Gallery -->
    <section id="engagement-album" class="album-section">
      <h2 class="section-title">Our Engagement</h2>
      <div class="engagement-gallery-container">
        <div class="horizontal-scroll-gallery" id="engagement-gallery">
          <img src="images/engagement/PoradaProposal-4.jpg" alt="Engagement 1" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-6.jpg" alt="Engagement 2" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-11.jpg" alt="Engagement 3" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-28.jpg" alt="Engagement 4" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-29.jpg" alt="Engagement 5" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-31.jpg" alt="Engagement 6" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-36.jpg" alt="Engagement 7" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-40.jpg" alt="Engagement 8" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-58.jpg" alt="Engagement 9" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-62.jpg" alt="Engagement 10" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-67.jpg" alt="Engagement 11" onerror="this.style.display='none'"/>
          <img src="images/engagement/PoradaProposal-75.jpg" alt="Engagement 12" onerror="this.style.display='none'"/>
        </div>
        <div class="gallery-nav">
          <button class="gallery-nav-btn" id="gallery-prev">← Previous</button>
          <button class="gallery-nav-btn" id="gallery-next">Next →</button>
        </div>
      </div>
      </div>
    </section>

    <!-- Rings Section -->
    <section id="rings-section" class="album-section">
      <h2 class="section-title">Our Rings</h2>
      <div class="rings-row">
        <img src="images/rings/PoradaProposal-255.jpg" alt="Ring Detail 1" class="ring-img" onerror="this.style.display='none'"/>
        <img src="images/rings/PoradaProposal-259.jpg" alt="Ring Detail 2" class="ring-img" onerror="this.style.display='none'"/>
        <img src="images/rings/PoradaProposal-262.jpg" alt="Ring Detail 3" class="ring-img" onerror="this.style.display='none'"/>
        <img src="images/rings/PoradaProposal-268.jpg" alt="Ring Detail 4" class="ring-img" onerror="this.style.display='none'"/>
      </div>
    </section>

    <!-- Shared Album Section -->
    <section id="shared-album-section" class="album-section">
      <h2 class="section-title">Share Your Photos</h2>
      <p class="section-subtitle">Help us remember the day! See photos from our guests below.</p>
      
      <!-- Gallery view comes first -->
      <div class="shared-gallery-container">
        <div class="horizontal-scroll-gallery" id="shared-photo-gallery"></div>
        <div class="gallery-nav">
          <button class="gallery-nav-btn" id="shared-gallery-prev">◀</button>
          <button class="gallery-nav-btn" id="shared-gallery-next">▶</button>
        </div>
      </div>
      
      <!-- Upload form comes after the gallery -->
      <div class="upload-section">
        <h3 class="upload-title">Upload Your Photos</h3>
        <form id="photo-upload-form">
          <input type="text" id="photo-name" placeholder="Your Name" required />
          <input type="file" id="photo-file" accept="image/*,video/*" multiple required />
          <button type="submit">Upload Photo</button>
        </form>
      </div>
    </section>

    <!-- Guestbook and Map Container -->
    <div class="guestbook-map-container">
      <section id="guestbook-section" class="album-section">
        <h2 class="section-title">Digital Guestbook</h2>
        <form id="guestbook-form">
          <input type="text" id="guest-name" placeholder="Your Name" required />
          <textarea id="guest-message" placeholder="Your Message" required></textarea>
          <button type="submit">Leave a Message</button>
        </form>
        <div id="guestbook-messages"></div>
      </section>
      <section id="map-section" class="album-section">
        <h2 class="section-title">Where Our Guests Are From</h2>
        <div id="map-controls">
          <div class="map-control-buttons">
            <button id="share-location-btn" type="button">Share My Location</button>
            <button id="manual-pin-btn" type="button">Drop a Pin on the Map</button>
          </div>
          <div>Share your location to appear on the map, or manually add a pin!</div>
        </div>
        <div id="guest-map" style="min-height:500px;background:#f5f5f5;border-radius:12px;border:1px solid #eee;"></div>
      </section>
    </div>
  </main>

  <!-- Footer will be injected after intro ends -->

  <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
  <script src="js/main.js"></script>
</body>
</html>